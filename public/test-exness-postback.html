<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>üß™ Test Exness Postback</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:40px 20px;color:#333}.container{max-width:800px;margin:0 auto;background:white;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,0.3);padding:40px}h1{font-size:2.5em;margin-bottom:10px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.subtitle{color:#666;margin-bottom:30px;font-size:1.1em}.info-box{background:#f0f4ff;border-left:4px solid #667eea;padding:20px;margin-bottom:30px;border-radius:8px}.info-box h3{color:#667eea;margin-bottom:10px;font-size:1.2em}.info-box p{color:#555;line-height:1.6;margin-bottom:8px}.test-section{background:#fafafa;border-radius:12px;padding:30px;margin-bottom:20px}.test-section h2{color:#333;margin-bottom:20px;font-size:1.5em}.event-buttons{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:30px}.event-btn{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:15px 20px;border-radius:10px;font-size:1em;font-weight:600;cursor:pointer;transition:all 0.3s ease;text-align:left;position:relative;overflow:hidden}.event-btn:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(102,126,234,0.3)}.event-btn:active{transform:translateY(0)}.event-btn .icon{font-size:1.5em;margin-right:10px}.event-btn .label{display:block;font-size:0.85em;opacity:0.9;margin-top:5px}.response-box{background:#1e1e1e;color:#00ff00;padding:20px;border-radius:10px;font-family:'Courier New',monospace;font-size:0.9em;margin-top:20px;max-height:400px;overflow-y:auto;display:none}.response-box.show{display:block}.response-box pre{margin:0;white-space:pre-wrap;word-wrap:break-word}.status-badge{display:inline-block;padding:5px 12px;border-radius:20px;font-size:0.85em;font-weight:600;margin-right:10px}.status-badge.success{background:#d4edda;color:#155724}.status-badge.error{background:#f8d7da;color:#721c24}.spinner{border:3px solid #f3f3f3;border-top:3px solid #667eea;border-radius:50%;width:30px;height:30px;animation:spin 1s linear infinite;margin:20px auto;display:none}.spinner.show{display:block}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.warning{background:#fff3cd;border-left:4px solid #ffc107;padding:15px;margin-bottom:20px;border-radius:8px}.warning strong{color:#856404;display:block;margin-bottom:5px}.code{background:#f5f5f5;padding:2px 6px;border-radius:4px;font-family:monospace;color:#e83e8c}</style></head><body><div class=container><h1>üß™ Test Exness Postback</h1><p class=subtitle>Send test postback events to verify your endpoint is working</p><div class=info-box><h3>üì° How This Works</h3><p>This page sends <strong>simulated</strong> Exness postback events to your endpoint.</p><p><strong>Note:</strong> Real postbacks will come from Exness servers when actual users register and deposit.</p><p><strong>Endpoint:</strong><span class=code>https://tradeflow.blog/api/postback/exness</span></p></div><div class=warning><strong>‚ö†Ô∏è Important:</strong>
These are TEST events only. They will create entries in your database but won't represent real conversions.
Use this to verify your postback handler is working correctly.
</div><div class=test-section><h2>Select Event to Test</h2><div class=event-buttons><button class=event-btn onclick="testPostback('REGISTRATION')"><span class=icon>üìù</span><div>REGISTRATION</div><span class=label>User signed up</span></button><button class=event-btn onclick="testPostback('QUALIFICATION')"><span class=icon>‚úÖ</span><div>QUALIFICATION</div><span class=label>Profile completed</span></button><button class=event-btn onclick="testPostback('AGGREGATED_DEPOSIT')"><span class=icon>üí∞</span><div>DEPOSIT</div><span class=label>First deposit made</span></button><button class=event-btn onclick="testPostback('REWARD_PROCESSING')"><span class=icon>üéâ</span><div>REWARD_PROCESSING</div><span class=label>‚≠ê Auto-approves user!</span></button><button class=event-btn onclick="testPostback('IS_KYC_PASSED')"><span class=icon>üÜî</span><div>IS_KYC_PASSED</div><span class=label>KYC verified</span></button></div><div class=spinner id=spinner></div><div class=response-box id=responseBox><pre id=responseText></pre></div></div><div class=info-box><h3>üîç What to Check After Testing</h3><p><strong>1. Database:</strong> Check <span class=code>exness_conversions</span> table for new entries</p><p><strong>2. User Status:</strong> If you tested REWARD_PROCESSING, check if user got upgraded</p><p><strong>3. Console Logs:</strong> Check Render logs for postback processing messages</p><p><strong>4. Admin Dashboard:</strong> Visit /admin/dashboard to see conversion stats</p></div></div><script>async function testPostback(eventType) { const spinner = document.getElementById('spinner'); const responseBox = document.getElementById('responseBox'); const responseText = document.getElementById('responseText'); spinner.classList.add('show'); responseBox.classList.remove('show'); const postbackData = { partner_id: 'c_8f0nxidtbt', event_type: eventType, user_id: `test_user_${Date.now()}`, timestamp: new Date().toISOString() }; switch(eventType) { case 'REGISTRATION': postbackData.email = 'test@example.com'; break; case 'QUALIFICATION': postbackData.qualification_status = 'COMPLETED'; break; case 'AGGREGATED_DEPOSIT': postbackData.deposit_amount = 200.00; postbackData.ftd_amount = 200.00; break; case 'REWARD_PROCESSING': postbackData.reward_amount = 50.00; postbackData.deposit_amount = 200.00; break; case 'IS_KYC_PASSED': postbackData.kyc_status = 'PASSED'; break; }try { const response = await fetch('https: method: 'POST', headers: { 'Content-Type': 'application/json', }, body: JSON.stringify(postbackData) });const result = await response.json(); spinner.classList.remove('show'); responseBox.classList.add('show');const statusBadge = response.ok ? '<span class="status-badge success">‚úÖ SUCCESS</span>' : '<span class="status-badge error">‚ùå ERROR</span>';responseText.innerHTML = ` ${statusBadge} <strong>Event:</strong> ${eventType} <strong>Status:</strong> ${response.status} ${response.statusText}<strong>Response:</strong> ${JSON.stringify(result, null, 2)}<strong>Sent Data:</strong> ${JSON.stringify(postbackData, null, 2)} `; console.log('Postback Test Result:', { event: eventType, status: response.status, result, sentData: postbackData });} catch (error) { spinner.classList.remove('show'); responseBox.classList.add('show');responseText.innerHTML = ` <span class="status-badge error">‚ùå ERROR</span><strong>Failed to send postback</strong>${error.message}<strong>Sent Data:</strong> ${JSON.stringify(postbackData, null, 2)} `;console.error('Postback test error:', error); } }</script></body></html>